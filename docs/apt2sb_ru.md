# apt2sb

Скрипт `apt2sb` устанавливает пакеты из репозиториев и упаковывает их в модуль.

## Использование

```
apt2sb [ОПЦИИ] ПАКЕТ1 [ПАКЕТ2] [...]
```

## Опции

- `-f`, `--file=FILE` - использовать `FILE` в качестве имени файла для модуля вместо `PACKAGE1.sb`
- `-l`, `--level=LEVEL` - использовать `LEVEL` в качестве уровня фильтрации
- `--help` - отобразить справку и выйти
- `--version` - отобразить информацию о версии и выйти

## Создание модулей

1. Запустите скрипт с правами root, используя команду `sudo`.
2. Укажите одно или несколько имен пакетов в качестве аргументов.
3. Опционально вы можете указать имя файла для сохранения изменений с помощью параметра `--file=FILE`, где `FILE` - это имя файла. Если этот параметр не указан, имя файла будет сгенерировано автоматически на основе имени первого пакета.
4. Опционально вы можете указать уровень фильтрации с помощью параметра `--level=LEVEL`, где `LEVEL` - это числовое значение. Этот параметр используется для фильтрации слоев файловой системы overlay.

Например, чтобы установить пакеты `chromium` и `chromium-sandbox` и сохранить изменения в файле `mymodule.sb`, вы можете использовать следующую команду:

```
sudo apt2sb chromium chromium-sandbox --file=mymodule.sb
```

Если вы хотите отфильтровать слои файловой системы overlay по уровню 3, вы можете использовать следующую команду:

```
sudo apt2sb chromium chromium-sandbox --file=mymodule.sb --level=3
```

Если вы не указываете параметры `--file` и `--level`, то они не используются. Если вы не указываете параметр `--file`, то имя файла для сохранения изменений генерируется автоматически на основе имени первого пакета.

Уровень фильтрации используется для фильтрации слоев файловой системы overlay. Например, если вы указываете уровень фильтрации 3 с помощью параметра `--level=3`, то будут отфильтрованы все слои файловой системы overlay с номером больше 3, сборка модуля будет запущена на базе модулей с номерами 00-03. В MiniOS номер 03 имеет модуль 03-xorg, значит собранный модуль сможет работать как в системе, где модули с большими номерами слоёв отсутствуют, так и с наличием таких модулей, так как он будет включать в себя все пакеты, необходимые для работы на базе 3го уровня.